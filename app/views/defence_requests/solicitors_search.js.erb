$('.solicitor_results_list').html("<a data-fn='btn-solicitor-results-close' href='#' class='button' role='button' >Close</a>\
                                    <table> \
                                     <thead>\
                                     <tr>\
                                     <th scope='col'>Name</th>\
                                     <th scope='col'>Firm</th>\
                                     <th class='numeric' scope='col'>Mobile</th>\
                                     <th class='numeric' scope='col'>Email</th>\
                                     </tr>\
                                     </thead>\
                                     <tbody class='results_body'>  \
                                     </tbody>\
                                     </table>");

$('.solicitor_results_list [data-fn="btn-solicitor-results-close"]').bind('click', function() {
  $('.solicitor_results_list').html('');
});

<% if @solicitors.empty? %>
  $('.results_body').html("<tr><td><%= t('no_results_found') %></td></tr>");
<% end %>

<% @solicitors.each do |solicitor| %>
  $('.results_body').append("<tr>\
                                     <td><a href='#' class='list-group-item solicitor_result' id=<%= solicitor_id solicitor %>><%= solicitor['name'] %></a></td>\
                                     <td><%= solicitor['firm_name'] %></td>\
                                     <td><%= solicitor['mobile'] %></td>\
                                     <td><%= solicitor['email'] %></td>\
                                     </tr>");

  $('#<%= solicitor_id solicitor %>').click(function(e) {
    e.preventDefault();
    $('.solicitor_results_list').html('');
    $('#defence_request_solicitor_name').val('<%= solicitor['name'] %>')
    $('#defence_request_solicitor_firm').val('<%= solicitor['firm_name'] %>')
    $('#defence_request_phone_number').val('<%= solicitor['mobile'] %>')
  });
<% end %>
